{"version":3,"file":"main.js","mappings":"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","sources":["webpack://numerous/./index.js","webpack://numerous/./lib/numerous.js","webpack://numerous/./locales/de.js","webpack://numerous/./locales/en.js","webpack://numerous/./locales/ru.js","webpack://numerous/./node_modules/is-node/index.js","webpack://numerous/webpack/bootstrap","webpack://numerous/webpack/runtime/compat get default export","webpack://numerous/webpack/runtime/define property getters","webpack://numerous/webpack/runtime/hasOwnProperty shorthand","webpack://numerous/webpack/runtime/node module decorator","webpack://numerous/./demo/src/index.js"],"sourcesContent":["\nmodule.exports = require('./lib/numerous.js');\n","\nconst isNode = require('is-node');\n\n\n//=========//\n// GLOBALS //\n//=========//\n\n/**\n * This object will contain all the registered locales.\n */\nconst locales = {};\n\n\n//=========//\n// EXPORTS //\n//=========//\n\nmodule.exports = {\n  create: numerousFactory,\n  registerLocale,\n  pluralize,\n};\n\n\n//==================//\n// PUBLIC FUNCTIONS //\n//==================//\n\n/**\n * Creates new instance of numerous.\n *\n * @param {string} localeId\n * @returns {object}\n */\nfunction numerousFactory(localeId) {\n\n  ensureLocaleRegisteredOrThrow(localeId);\n\n  return {\n    pluralize: (value, variants) => (\n      pluralize(localeId, value, variants)\n    ),\n  };\n\n}\n\n/**\n * Adds pluralization function for specified locale.\n * Usually externally called by locale itself.\n *\n * @param {object} localeOrLocales\n */\nfunction registerLocale(localeOrLocales) {\n  if (!Array.isArray(localeOrLocales)) {\n    localeOrLocales = [localeOrLocales];\n  }\n  for (const locale of localeOrLocales) {\n    locales[locale.id] = locale;\n  }\n}\n\n/**\n * Returns variant from the specified list of variants\n * according to the specified value and locale.\n *\n * @param {string} localeId\n * @param {int} value\n * @param {object} variants\n *\n * @return {string | undefined}\n */\nfunction pluralize(localeId, value, variants) {\n\n  ensureLocaleRegisteredOrThrow(localeId);\n\n  if (!variants || 'object' !== typeof variants) {\n    throw new Error('List of variants should be specified as a valid object');\n  }\n\n  const locale = locales[localeId];\n\n  const key = locale.handler(value);\n\n  return (variants[key] || undefined);\n\n}\n\n\n//===================//\n// PRIVATE FUNCTIONS //\n//===================//\n\n/**\n * Checks if locale is loaded. If not, tries to load it.\n *\n * @param {string} localeId\n */\nfunction ensureLocaleRegisteredOrThrow(localeId) {\n\n  if (hasLocale(localeId)) {\n    return;\n  }\n\n  if (isNode) {\n    // In Node.js we could just load the required locale automatically\n    requireLocale(localeId);\n\n  } else {\n    throw new Error(\n      `Locale: ${localeId} is not registered with numerous. ` +\n      `You need to manually register it before use`\n    );\n  }\n\n}\n\n/**\n * Returns true if specified locale is loaded, false otherwise.\n *\n * @param {string} localeId\n *\n * @returns {boolean}\n */\nfunction hasLocale(localeId) {\n  return Boolean(locales[localeId]);\n}\n\n/**\n * Tries to load the specified locale.\n *\n * @param {string} localeId\n */\nfunction requireLocale(localeId) {\n  try {\n    // Using this hack to prevent webpack from importing all the locales\n    const requireFunction = module['REQUIRE'.toLocaleLowerCase()];\n    const locale = requireFunction(`${__dirname}/../locales/${localeId}.js`);\n    registerLocale(locale);\n\n  } catch (error) {\n    throw Error(`Failed to require locale: ${localeId}`);\n\n  }\n\n}\n","module.exports = {\n  id: 'de',\n  handler: function pluralize_de(val) {\n    const n = Number(val),\n      i = Math.floor(Math.abs(val)),\n      v = val.toString().replace(/^[^.]*\\.?/, '').length;\n    if (isNaN(n))\n      throw Error('n is not a number');\n    if (i === 1 && v === 0)\n      return 'one';\n    return 'other';\n  }\n};\n","module.exports = {\n  id: 'en',\n  handler: function pluralize_en(val) {\n    const n = Number(val),\n      i = Math.floor(Math.abs(val)),\n      v = val.toString().replace(/^[^.]*\\.?/, '').length;\n    if (isNaN(n))\n      throw Error('n is not a number');\n    if (i === 1 && v === 0)\n      return 'one';\n    return 'other';\n  }\n};\n","module.exports = {\n  id: 'ru',\n  handler: function pluralize_ru(val) {\n    const n = Number(val),\n      i = Math.floor(Math.abs(val)),\n      v = val.toString().replace(/^[^.]*\\.?/, '').length;\n    if (isNaN(n))\n      throw Error('n is not a number');\n    if (v === 0 && (i % 10 === 1 && !(i % 100 === 11)))\n      return 'one';\n    if (v === 0 && (i % 10 === Math.floor(i % 10) && (i % 10 >= 2 && i % 10 <= 4) && !(i % 100 >= 12 && i % 100 <= 14)))\n      return 'few';\n    if (v === 0 && i % 10 === 0 || (v === 0 && (i % 10 === Math.floor(i % 10) && (i % 10 >= 5 && i % 10 <= 9)) || v === 0 && (i % 100 === Math.floor(i % 100) && (i % 100 >= 11 && i % 100 <= 14))))\n      return 'many';\n    return 'other';\n  }\n};\n","// Coding standard for this project defined @ https://github.com/MatthewSH/standards/blob/master/JavaScript.md\n'use strict';\n\nexports = module.exports = !!(typeof process !== 'undefined' && process.versions && process.versions.node);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","\nimport * as numerous from '../..';\n\nimport deLocale from '../../locales/de';\nimport enLocale from '../../locales/en';\nimport ruLocale from '../../locales/ru';\n\nnumerous.registerLocale([\n  deLocale,\n  enLocale,\n  ruLocale,\n]);\n\nconst variants = {\n  apples: {\n    de: {\n      one: 'Apfel',\n      other: 'Äpfel'\n    },\n    en: {\n      one: 'apple',\n      other: 'apples'\n    },\n    ru: {\n      one: 'яблоко',\n      few: 'яблока',\n      many: 'яблок'\n    },\n  },\n  oranges: {\n    de: {\n      one: 'Orangen',\n      other: 'Orangen'\n    },\n    en: {\n      one: 'orange',\n      other: 'oranges'\n    },\n    ru: {\n      one: 'апельсин',\n      few: 'апельсина',\n      many: 'апельсинов'\n    },\n  }\n};\n\n// List of additional texts for each supported locale\nconst texts = {\n  de: {\n    'i-have': 'Ich habe',\n    'and': 'und'\n  },\n  en: {\n    'i-have': 'I have',\n    'and': 'and'\n  },\n  ru: {\n    'i-have': 'У меня есть',\n    'and': 'и'\n  },\n};\n\n// Listening for for form submission\ndocument.getElementById('form').addEventListener('change', event => {\n  format();\n});\n\n// Initially formatting the result\nformat();\n\n\nfunction getNumberFromInput(id) {\n  const string = document.getElementById(id).value;\n  return parseInt(string);\n}\n\nfunction getStringFromInput(id) {\n  return document.getElementById(id).value;\n}\n\nfunction format() {\n\n  // Reading locale from form\n  const locale = getStringFromInput('locale');\n\n  // Pluralizing apples\n  const applesCount = getNumberFromInput('apples-count');\n  const applesResult = numerous.pluralize(\n    locale,\n    applesCount,\n    variants.apples[locale]\n  );\n  document.getElementById('apples-result').innerHTML = (\n    applesCount + ' ' + applesResult\n  );\n\n  // Pluralizing oranges\n  const orangesCount = getNumberFromInput('oranges-count');\n  const orangesResult = numerous.pluralize(\n    locale,\n    orangesCount,\n    variants.oranges[locale]\n  );\n  document.getElementById('oranges-result').innerHTML = (\n    orangesCount + ' ' + orangesResult\n  );\n\n  // Updating other text\n  for (const [key, value] of Object.entries(texts[locale])) {\n    document.getElementById('text-' + key).innerHTML = value;\n  }\n\n}\n"],"names":["module","exports","isNode","locales","registerLocale","localeOrLocales","Array","isArray","locale","id","pluralize","localeId","value","variants","ensureLocaleRegisteredOrThrow","Error","handler","undefined","Boolean","hasLocale","requireFunction","toLocaleLowerCase","error","requireLocale","create","val","n","Number","i","Math","floor","abs","v","toString","replace","length","isNaN","process","versions","node","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","nmd","paths","children","apples","de","one","other","en","ru","few","many","oranges","texts","getNumberFromInput","string","document","getElementById","parseInt","format","applesCount","applesResult","innerHTML","orangesCount","orangesResult","entries","addEventListener","event"],"sourceRoot":""}